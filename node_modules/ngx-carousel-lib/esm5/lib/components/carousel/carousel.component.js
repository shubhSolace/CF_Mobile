/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import Carousel from '../../model/Carousel';
import { SwiperDirective } from '../../directives/swiper.directive';
var CarouselComponent = /** @class */ (function () {
    function CarouselComponent(componentElement) {
        this.componentElement = componentElement;
        this.itemsCarouselRendered = 0;
        this.morePairSlides = 1;
        this.threshold = 5;
        this.angle = 45;
        this.ratioScale = 1;
        this.margin = 20;
        this.perspective = 2000;
        this.endInSlide = true;
        this.timeToSlide = 300;
        this.lockSlides = false;
        this.initialSlide = 0;
        this.loop = false;
        this.mode = 'horizontal';
        // autoPlay
        this.autoPlay = false;
        this.delayAutoPlay = 3000;
        this.onInit = new EventEmitter();
        this.onReady = new EventEmitter();
        this.onChangeProperties = new EventEmitter();
        this.onSlideChange = new EventEmitter();
        this.onSlideCentered = new EventEmitter();
        this.onTransitionStart = new EventEmitter();
        this.onTransitionEnd = new EventEmitter();
        this.onSlideNextTransitionStart = new EventEmitter();
        this.onSlideNextTransitionEnd = new EventEmitter();
        this.onSlidePrevTransitionStart = new EventEmitter();
        this.onSlidePrevTransitionEnd = new EventEmitter();
        this.onSlideMove = new EventEmitter();
        this.onSlideMoveEnd = new EventEmitter();
        this.onSlideMoveStart = new EventEmitter();
        this.onTouchMove = new EventEmitter();
        this.onTouchStart = new EventEmitter();
        this.onTouchEnd = new EventEmitter();
        this.onReachBeginning = new EventEmitter();
        this.onReachEnd = new EventEmitter();
        this.carousel = new Carousel();
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    CarouselComponent.prototype.onDomChange = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if ($event.addedNodes.length > 0) {
            if (this.itemsCarouselRendered === 0) {
                this.reInit();
            }
            else {
                this.update();
                this.updateCssShowSlides();
            }
            this.itemsCarouselRendered = this.carouselElm.nativeElement.getElementsByClassName('item-carousel').length;
        }
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.onInit.emit(this.carousel);
        this.itemsCarouselRendered = this.carouselElm.nativeElement.getElementsByClassName('item-carousel').length;
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    CarouselComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        var _this = this;
        Object.keys(changes).map((/**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            if (changes[val].currentValue !== changes[val].previousValue && !changes[val].isFirstChange()) {
                _this.update();
                _this.onChangeProperties.emit(changes);
            }
        }));
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.initEventsPan();
        this.configPlugin();
        setTimeout((/**
         * @return {?}
         */
        function () {
            this.componentElement.nativeElement.className += ' ready';
        }).bind(this));
        this.onReady.emit(this.carousel);
    };
    /**
     * @param {?} val
     * @return {?}
     */
    CarouselComponent.prototype.lockCarousel = /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        this.carousel.lockSlides = val;
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.slideNext = /**
     * @return {?}
     */
    function () {
        if (this.checkLimitsCarrousel(this.carousel.activeIndex + 1)) {
            this.moveSlideTo(this.carousel.activeIndex + 1);
            /** @type {?} */
            var vm_1 = this;
            setTimeout((/**
             * @return {?}
             */
            function () { return vm_1.detectCurrentSlide(); }));
        }
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.slidePrev = /**
     * @return {?}
     */
    function () {
        if (this.checkLimitsCarrousel(this.carousel.activeIndex - 1)) {
            this.moveSlideTo(this.carousel.activeIndex - 1);
            /** @type {?} */
            var vm_2 = this;
            setTimeout((/**
             * @return {?}
             */
            function () { return vm_2.detectCurrentSlide(); }));
        }
    };
    /**
     * @param {?} index
     * @return {?}
     */
    CarouselComponent.prototype.slideTo = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        if (this.checkLimitsCarrousel(index)) {
            this.moveSlideTo(index);
            /** @type {?} */
            var vm_3 = this;
            setTimeout((/**
             * @return {?}
             */
            function () { return vm_3.detectCurrentSlide(); }));
        }
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.autoPlayStart = /**
     * @return {?}
     */
    function () {
        this.autoPlay = true;
        this.autoPlaySlide();
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.autoPlayStop = /**
     * @return {?}
     */
    function () {
        clearInterval(this.autoPlayTimeout);
        this.carousel.autoPlayIsRunning = false;
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.toggleMode = /**
     * @return {?}
     */
    function () {
        this.mode = this.mode === 'vertical' ? 'horizontal' : 'vertical';
        this.update();
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.reInit = /**
     * @return {?}
     */
    function () {
        this.carousel = new Carousel;
        this.configPlugin();
    };
    /**
     * @return {?}
     */
    CarouselComponent.prototype.update = /**
     * @return {?}
     */
    function () {
        this.setPerspectiveContainer();
        this.checkRotation();
        this.carousel.items = Array.from(this.carouselElm.nativeElement.getElementsByClassName('item-carousel'));
        this.carousel.totalItems = this.carousel.items.length;
        this.getmaxSizes();
        this.carousel.lockSlides = this.lockSlides;
        this.setDegreesOnSlides();
        this.setTransformCarrousel(-this.carousel.degreesSlides[this.carousel.activeIndex]);
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.configPlugin = /**
     * @private
     * @return {?}
     */
    function () {
        this.update();
        this.manageEvents();
        this.initSlidesOn();
        this.updateCssShowSlides();
        this.autoPlaySlide();
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.initEventsPan = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.swiper.onSwipe.subscribe((/**
         * @param {?} distance
         * @return {?}
         */
        function (distance) {
            _this.rotate(distance);
        }));
        this.swiper.onSwipeEnd.subscribe((/**
         * @param {?} distance
         * @return {?}
         */
        function (distance) {
            _this.rotate(distance);
        }));
    };
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    CarouselComponent.prototype.rotate = /**
     * @private
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (!this.carousel.lockSlides) {
            /** @type {?} */
            var velocity = this.carousel.isHorizontal ? e.velocityX / this.threshold : -e.velocityY / this.threshold;
            this.setNewDeg(this.carousel.currdeg + velocity * window.devicePixelRatio);
            this.moveCarrousel(this.carousel.currdeg);
            if (e.isFinal && this.endInSlide) {
                this.moveSlideTo(this.carousel.activeIndex);
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.autoPlaySlide = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.autoPlay) {
            this.autoPlayTimeout = setTimeout((/**
             * @return {?}
             */
            function () {
                this.carousel.autoPlayIsRunning = true;
                this.slideNext();
                this.autoPlaySlide();
            }).bind(this), this.delayAutoPlay);
        }
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.initSlidesOn = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.initialSlide >= 0 && this.initialSlide < this.carousel.items.length) {
            this.carousel.activeIndex = parseInt(this.initialSlide.toString());
        }
        else if (this.initialSlide >= this.carousel.items.length) {
            this.carousel.activeIndex = this.carousel.items.length - 1;
            this.initialSlide = this.carousel.activeIndex;
        }
        else {
            this.carousel.activeIndex = 0;
            this.initialSlide = this.carousel.activeIndex;
        }
        /** @type {?} */
        var newDeg = this.carousel.activeIndex * this.angle;
        this.setNewDeg(-newDeg);
        this.setTransformCarrousel(-newDeg);
    };
    /**
     * @private
     * @param {?} newDeg
     * @return {?}
     */
    CarouselComponent.prototype.setNewDeg = /**
     * @private
     * @param {?} newDeg
     * @return {?}
     */
    function (newDeg) {
        this.carousel.currdeg = newDeg;
        if (this.carousel.currdeg > 0) {
            this.carousel.currdeg = 0;
        }
        if (this.carousel.currdeg < -this.carousel.maxDegree) {
            this.carousel.currdeg = -this.carousel.maxDegree;
        }
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.checkRotation = /**
     * @private
     * @return {?}
     */
    function () {
        this.carousel.isHorizontal = this.mode !== 'vertical';
        this.rotationFn = this.carousel.isHorizontal ? 'rotateY'
            : 'rotateX';
    };
    /**
     * @private
     * @param {?} index
     * @return {?}
     */
    CarouselComponent.prototype.checkLimitsCarrousel = /**
     * @private
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.carousel.activeIndex !== index && index >= 0 && index < this.carousel.totalItems;
    };
    /**
     * @private
     * @param {?} index
     * @return {?}
     */
    CarouselComponent.prototype.moveSlideTo = /**
     * @private
     * @param {?} index
     * @return {?}
     */
    function (index) {
        this.setNewDeg(-this.carousel.degreesSlides[index]);
        this.moveCarrousel(this.carousel.currdeg, this.timeToSlide);
    };
    /**
     * @private
     * @param {?} deg
     * @param {?=} timeTransform
     * @return {?}
     */
    CarouselComponent.prototype.moveCarrousel = /**
     * @private
     * @param {?} deg
     * @param {?=} timeTransform
     * @return {?}
     */
    function (deg, timeTransform) {
        if (timeTransform === void 0) { timeTransform = 0; }
        /** @type {?} */
        var transition = "transform " + timeTransform + "ms";
        this.carouselElm.nativeElement.style.transition = transition;
        this.carouselElm.nativeElement.style.webkitTransition = transition;
        this.setTransformCarrousel(deg);
        this.detectCurrentSlide();
    };
    /**
     * @private
     * @param {?} deg
     * @return {?}
     */
    CarouselComponent.prototype.setTransformCarrousel = /**
     * @private
     * @param {?} deg
     * @return {?}
     */
    function (deg) {
        /** @type {?} */
        var transform = "translateZ(" + -this.radius + "px) " + this.rotationFn + "(" + deg + "deg)";
        this.carouselElm.nativeElement.style.transform = transform;
        this.carouselElm.nativeElement.style.webkitTransform = transform;
        this.sendSlideIsCentered();
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.sendSlideIsCentered = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.carousel.currdeg === -this.carousel.degreesSlides[this.carousel.activeIndex]) {
            this.onSlideCentered.emit(this.carousel);
        }
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.setPerspectiveContainer = /**
     * @private
     * @return {?}
     */
    function () {
        this.containerElm.nativeElement.style.perspective = this.perspective;
        this.containerElm.nativeElement.style.webkitPerspective = this.perspective;
        this.containerElm.nativeElement.style.MozPerspective = this.perspective;
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.getmaxSizes = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.carousel.items.map((/**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            /** @type {?} */
            var width = val.offsetWidth;
            /** @type {?} */
            var height = val.offsetHeight;
            _this.carousel.maxWidthSize = 0;
            _this.carousel.maxHeightSize = 0;
            if (width > _this.carousel.maxWidthSize) {
                _this.carousel.maxWidthSize = width;
                _this.carousel.totalWidth = _this.carousel.items.length * _this.carousel.maxWidthSize;
            }
            if (height > _this.carousel.maxHeightSize) {
                _this.carousel.maxHeightSize = height;
                _this.carousel.totalWidth = _this.carousel.items.length * _this.carousel.maxHeightSize;
            }
        }));
        this.setContainerWithMaxSize();
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.setContainerWithMaxSize = /**
     * @private
     * @return {?}
     */
    function () {
        this.containerElm.nativeElement.style.width = this.carousel.maxWidthSize + 'px';
        this.containerElm.nativeElement.style.height = this.carousel.maxHeightSize + 'px';
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.setDegreesOnSlides = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var auxDegree = 0;
        /** @type {?} */
        var panelSize = this.carousel.isHorizontal ? this.carousel.maxWidthSize : this.carousel.maxHeightSize;
        this.radius = (Math.round((panelSize / 2) /
            Math.tan(Math.PI / (360 / this.angle))) + this.margin);
        this.carousel.degreesSlides = [];
        this.carousel.items.map((/**
         * @param {?} val
         * @param {?} index
         * @return {?}
         */
        function (val, index) {
            /** @type {?} */
            var transform = _this.rotationFn + "(" + auxDegree + "deg) translateZ(" + _this.radius + "px)";
            val.style.transform = transform;
            val.style.webkitTransform = transform;
            _this.carousel.degreesSlides.push(auxDegree);
            _this.carousel.maxDegree = auxDegree;
            auxDegree += _this.angle;
        }));
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.detectCurrentSlide = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var aux = 99e9;
        /** @type {?} */
        var index = 0;
        this.carousel.degreesSlides.forEach((/**
         * @param {?} val
         * @param {?} i
         * @return {?}
         */
        function (val, i) {
            /** @type {?} */
            var res = Math.abs(val - Math.abs(_this.carousel.currdeg));
            if (res < aux) {
                aux = res;
                index = i;
            }
        }));
        if (this.carousel.activeIndex !== index) {
            this.carousel.lastIndex = this.carousel.activeIndex;
            this.carousel.activeIndex = index;
            this.updateCssShowSlides();
            this.onSlideChange.emit(this.carousel);
            if (this.carousel.activeIndex === 0) {
                this.onReachBeginning.emit(this.carousel);
            }
            else if (this.carousel.activeIndex === this.carousel.totalItems - 1) {
                this.onReachEnd.emit(this.carousel);
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.updateCssShowSlides = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var vm = this;
        /** @type {?} */
        var currentIndex = vm.carousel.activeIndex;
        /** @type {?} */
        var actual = this.carousel.items[currentIndex];
        vm.removeClassShowSlides('actual');
        vm.removeClassShowSlides('prev');
        vm.removeClassShowSlides('next');
        if (actual) {
            actual.className += ' actual';
        }
        for (var x = 0; x < this.morePairSlides; x++) {
            /** @type {?} */
            var prev = vm.carousel.items[currentIndex - (x + 1)];
            /** @type {?} */
            var next = vm.carousel.items[currentIndex + (x + 1)];
            if (prev) {
                prev.className += ' prev';
            }
            if (next) {
                next.className += ' next';
            }
        }
    };
    /**
     * @private
     * @param {?} tagClass
     * @return {?}
     */
    CarouselComponent.prototype.removeClassShowSlides = /**
     * @private
     * @param {?} tagClass
     * @return {?}
     */
    function (tagClass) {
        if (this.carouselElm.nativeElement.getElementsByClassName(tagClass).length > 0) {
            Array.from(this.carouselElm.nativeElement.getElementsByClassName(tagClass)).map((/**
             * @param {?} val
             * @return {?}
             */
            function (val) {
                val['classList'].remove(tagClass);
            }));
        }
    };
    /**
     * @private
     * @return {?}
     */
    CarouselComponent.prototype.manageEvents = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var options = {
            preventDefault: true
        };
        /** @type {?} */
        var vm = this;
        this.swiper.onSwipe.subscribe((/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            vm.onSlideMove.emit({ carousel: vm.carousel, event: e });
            vm.onTouchMove.emit({ carousel: vm.carousel, event: e });
        }));
        this.swiper.onSwipeStart.subscribe((/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            vm.onSlideMoveStart.emit({ carousel: vm.carousel, event: e });
            vm.onTouchStart.emit({ carousel: vm.carousel, event: e });
        }));
        this.swiper.onSwipeEnd.subscribe((/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            vm.onSlideMoveEnd.emit({ carousel: vm.carousel, event: e });
            vm.onTouchEnd.emit({ carousel: vm.carousel, event: e });
        }));
        this.carouselElm.nativeElement.addEventListener('transitionend', (/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            /** @type {?} */
            var elm = { carousel: vm.carousel, event: e };
            if (e.propertyName === 'transform') {
                _this.onTransitionEnd.emit(elm);
                if (vm.carousel.lastIndex > vm.carousel.activeIndex) {
                    _this.onSlideNextTransitionEnd.emit(elm);
                }
                else {
                    _this.onSlidePrevTransitionEnd.emit(elm);
                }
            }
        }));
        this.carouselElm.nativeElement.addEventListener('transitionstart', (/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            /** @type {?} */
            var elm = { carousel: vm.carousel, event: e };
            if (e.propertyName === 'transform') {
                _this.onTransitionStart.emit(elm);
                // if (e.direction === Hammer.DIRECTION_LEFT) {
                //   vm.onSlideNextTransitionStart.emit(elm);
                // } else if (e.direction === Hammer.DIRECTION_RIGHT) {
                //   vm.onSlidePrevTransitionStart.emit(elm);
                // }
            }
        }));
        window.addEventListener('resize', (/**
         * @return {?}
         */
        function () {
            this.update();
        }).bind(this));
    };
    CarouselComponent.decorators = [
        { type: Component, args: [{
                    selector: 'carousel-component',
                    template: '<div class="container" #container>\n' +
                        '  <div class="carousel" #carousel swiper (domChange)="onDomChange($event)">\n' +
                        '    <ng-content select=".item-carousel"></ng-content>\n' +
                        '  </div>\n' +
                        '</div>',
                    styles: ["\n   :host{\n        display: flex;\n    }\n   :host .container {\n        margin: 0 auto;\n        width: 600px;\n        height: 400px;\n        position: relative;\n    }\n   :host .container .carousel {\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        -webkit-transform-style: preserve-3d;\n        -moz-transform-style: preserve-3d;\n        -o-transform-style: preserve-3d;\n        transform-style: preserve-3d;\n\n    }\n   :host.ready .carousel {\n        -webkit-transition: -webkit-transform 300ms;\n        -moz-transition:-moz-transform 300ms;\n        -o-transition: -o-transform 300ms;\n        transition: transform 300ms;\n    }\n   :host .container .carousel::content >>> .item-carousel {\n        display: block;\n        position: absolute;\n        border:1px solid black;\n        width: 100%;\n        height: 100%;\n        text-align: center;\n        transform-style: preserve-3d;\n        opacity: 0;\n    }\n   :host.ready .carousel::content >>> .item-carousel {\n        -webkit-transition: opacity 300ms, -webkit-transform 300ms;\n        -moz-transition: opacity 300ms, -moz-transform 300ms;\n        -o-transition: opacity 300ms, -o-transform 300ms;\n        transition: opacity 300ms, transform 300ms;\n    }\n\n   :host .container .carousel::content >>> .item-carousel img{\n        user-drag: none;\n        user-select: none;\n        -moz-user-select: none;\n        -webkit-user-drag: none;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n    }\n\n   :host .container .carousel::content >>> .item-carousel.next,\n   :host .container .carousel::content >>> .item-carousel.prev,\n   :host .container .carousel::content >>> .item-carousel.actual{\n        opacity: 0.95;\n    }\n  "]
                }] }
    ];
    /** @nocollapse */
    CarouselComponent.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    CarouselComponent.propDecorators = {
        swiper: [{ type: ViewChild, args: [SwiperDirective,] }],
        morePairSlides: [{ type: Input }],
        threshold: [{ type: Input }],
        angle: [{ type: Input }],
        ratioScale: [{ type: Input }],
        margin: [{ type: Input }],
        perspective: [{ type: Input }],
        endInSlide: [{ type: Input }],
        timeToSlide: [{ type: Input }],
        lockSlides: [{ type: Input }],
        initialSlide: [{ type: Input }],
        loop: [{ type: Input }],
        mode: [{ type: Input }],
        autoPlay: [{ type: Input }],
        delayAutoPlay: [{ type: Input }],
        onInit: [{ type: Output }],
        onReady: [{ type: Output }],
        onChangeProperties: [{ type: Output }],
        onSlideChange: [{ type: Output }],
        onSlideCentered: [{ type: Output }],
        onTransitionStart: [{ type: Output }],
        onTransitionEnd: [{ type: Output }],
        onSlideNextTransitionStart: [{ type: Output }],
        onSlideNextTransitionEnd: [{ type: Output }],
        onSlidePrevTransitionStart: [{ type: Output }],
        onSlidePrevTransitionEnd: [{ type: Output }],
        onSlideMove: [{ type: Output }],
        onSlideMoveEnd: [{ type: Output }],
        onSlideMoveStart: [{ type: Output }],
        onTouchMove: [{ type: Output }],
        onTouchStart: [{ type: Output }],
        onTouchEnd: [{ type: Output }],
        onReachBeginning: [{ type: Output }],
        onReachEnd: [{ type: Output }],
        carouselElm: [{ type: ViewChild, args: ['carousel',] }],
        containerElm: [{ type: ViewChild, args: ['container',] }]
    };
    return CarouselComponent;
}());
export { CarouselComponent };
if (false) {
    /** @type {?} */
    CarouselComponent.prototype.carousel;
    /**
     * @type {?}
     * @private
     */
    CarouselComponent.prototype.radius;
    /**
     * @type {?}
     * @private
     */
    CarouselComponent.prototype.rotationFn;
    /**
     * @type {?}
     * @private
     */
    CarouselComponent.prototype.itemsCarouselRendered;
    /** @type {?} */
    CarouselComponent.prototype.swiper;
    /** @type {?} */
    CarouselComponent.prototype.morePairSlides;
    /** @type {?} */
    CarouselComponent.prototype.threshold;
    /** @type {?} */
    CarouselComponent.prototype.angle;
    /** @type {?} */
    CarouselComponent.prototype.ratioScale;
    /** @type {?} */
    CarouselComponent.prototype.margin;
    /** @type {?} */
    CarouselComponent.prototype.perspective;
    /** @type {?} */
    CarouselComponent.prototype.endInSlide;
    /** @type {?} */
    CarouselComponent.prototype.timeToSlide;
    /** @type {?} */
    CarouselComponent.prototype.lockSlides;
    /** @type {?} */
    CarouselComponent.prototype.initialSlide;
    /** @type {?} */
    CarouselComponent.prototype.loop;
    /** @type {?} */
    CarouselComponent.prototype.mode;
    /** @type {?} */
    CarouselComponent.prototype.autoPlay;
    /** @type {?} */
    CarouselComponent.prototype.delayAutoPlay;
    /**
     * @type {?}
     * @private
     */
    CarouselComponent.prototype.autoPlayTimeout;
    /** @type {?} */
    CarouselComponent.prototype.onInit;
    /** @type {?} */
    CarouselComponent.prototype.onReady;
    /** @type {?} */
    CarouselComponent.prototype.onChangeProperties;
    /** @type {?} */
    CarouselComponent.prototype.onSlideChange;
    /** @type {?} */
    CarouselComponent.prototype.onSlideCentered;
    /** @type {?} */
    CarouselComponent.prototype.onTransitionStart;
    /** @type {?} */
    CarouselComponent.prototype.onTransitionEnd;
    /** @type {?} */
    CarouselComponent.prototype.onSlideNextTransitionStart;
    /** @type {?} */
    CarouselComponent.prototype.onSlideNextTransitionEnd;
    /** @type {?} */
    CarouselComponent.prototype.onSlidePrevTransitionStart;
    /** @type {?} */
    CarouselComponent.prototype.onSlidePrevTransitionEnd;
    /** @type {?} */
    CarouselComponent.prototype.onSlideMove;
    /** @type {?} */
    CarouselComponent.prototype.onSlideMoveEnd;
    /** @type {?} */
    CarouselComponent.prototype.onSlideMoveStart;
    /** @type {?} */
    CarouselComponent.prototype.onTouchMove;
    /** @type {?} */
    CarouselComponent.prototype.onTouchStart;
    /** @type {?} */
    CarouselComponent.prototype.onTouchEnd;
    /** @type {?} */
    CarouselComponent.prototype.onReachBeginning;
    /** @type {?} */
    CarouselComponent.prototype.onReachEnd;
    /** @type {?} */
    CarouselComponent.prototype.carouselElm;
    /** @type {?} */
    CarouselComponent.prototype.containerElm;
    /**
     * @type {?}
     * @private
     */
    CarouselComponent.prototype.componentElement;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2Fyb3VzZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LWNhcm91c2VsLWxpYi8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2Nhcm91c2VsL2Nhcm91c2VsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQzFELFNBQVMsRUFHVixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLFFBQVEsTUFBTSxzQkFBc0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDcEU7SUF1SEUsMkJBQW9CLGdCQUE0QjtRQUE1QixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQVk7UUFoRHhDLDBCQUFxQixHQUFJLENBQUMsQ0FBRTtRQUUzQixtQkFBYyxHQUFHLENBQUMsQ0FBQztRQUNuQixjQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsVUFBSyxHQUFHLEVBQUUsQ0FBQztRQUNYLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFDZixXQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ1osZ0JBQVcsR0FBRyxJQUFJLENBQUM7UUFDbkIsZUFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixnQkFBVyxHQUFHLEdBQUcsQ0FBQztRQUNsQixlQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ25CLGlCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLFNBQUksR0FBRyxLQUFLLENBQUM7UUFDYixTQUFJLEdBQUcsWUFBWSxDQUFDOztRQUdwQixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLGtCQUFhLEdBQUcsSUFBSSxDQUFDO1FBR3BCLFdBQU0sR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzVCLFlBQU8sR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzdCLHVCQUFrQixHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFF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RCxxREFBd0Q7O0lBRXhELHdDQUEyQzs7SUFDM0MsMkNBQThDOztJQUM5Qyw2Q0FBZ0Q7O0lBRWhELHdDQUEyQzs7SUFDM0MseUNBQTRDOztJQUM1Qyx1Q0FBMEM7O0lBRTFDLDZDQUFnRDs7SUFDaEQsdUNBQTBDOztJQUUxQyx3Q0FBK0M7O0lBQy9DLHlDQUFpRDs7Ozs7SUFFckMsNkNBQW9DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgU2ltcGxlQ2hhbmdlcyxcbiAgVmlld0NoaWxkLFxuICBBZnRlclZpZXdJbml0LFxuICBPbkNoYW5nZXNcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCBDYXJvdXNlbCBmcm9tICcuLi8uLi9tb2RlbC9DYXJvdXNlbCc7XG5pbXBvcnQgeyBTd2lwZXJEaXJlY3RpdmUgfSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL3N3aXBlci5kaXJlY3RpdmUnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY2Fyb3VzZWwtY29tcG9uZW50JyxcbiAgc3R5bGVzOiBbYFxuICAgOmhvc3R7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgfVxuICAgOmhvc3QgLmNvbnRhaW5lciB7XG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICB3aWR0aDogNjAwcHg7XG4gICAgICAgIGhlaWdodDogNDAwcHg7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gICA6aG9zdCAuY29udGFpbmVyIC5jYXJvdXNlbCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgICAgICAtbW96LXRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XG4gICAgICAgIC1vLXRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XG4gICAgICAgIHRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XG5cbiAgICB9XG4gICA6aG9zdC5yZWFkeSAuY2Fyb3VzZWwge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDMwMG1zO1xuICAgICAgICAtbW96LXRyYW5zaXRpb246LW1vei10cmFuc2Zvcm0gMzAwbXM7XG4gICAgICAgIC1vLXRyYW5zaXRpb246IC1vLXRyYW5zZm9ybSAzMDBtcztcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDMwMG1zO1xuICAgIH1cbiAgIDpob3N0IC5jb250YWluZXIgLmNhcm91c2VsOjpjb250ZW50ID4+PiAuaXRlbS1jYXJvdXNlbCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICA6aG9zdC5yZWFkeSAuY2Fyb3VzZWw6OmNvbnRlbnQgPj4+IC5pdGVtLWNhcm91c2VsIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zLCAtd2Via2l0LXRyYW5zZm9ybSAzMDBtcztcbiAgICAgICAgLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zLCAtbW96LXRyYW5zZm9ybSAzMDBtcztcbiAgICAgICAgLW8tdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcywgLW8tdHJhbnNmb3JtIDMwMG1zO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zLCB0cmFuc2Zvcm0gMzAwbXM7XG4gICAgfVxuXG4gICA6aG9zdCAuY29udGFpbmVyIC5jYXJvdXNlbDo6Y29udGVudCA+Pj4gLml0ZW0tY2Fyb3VzZWwgaW1ne1xuICAgICAgICB1c2VyLWRyYWc6IG5vbmU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtd2Via2l0LXVzZXItZHJhZzogbm9uZTtcbiAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgOmhvc3QgLmNvbnRhaW5lciAuY2Fyb3VzZWw6OmNvbnRlbnQgPj4+IC5pdGVtLWNhcm91c2VsLm5leHQsXG4gICA6aG9zdCAuY29udGFpbmVyIC5jYXJvdXNlbDo6Y29udGVudCA+Pj4gLml0ZW0tY2Fyb3VzZWwucHJldixcbiAgIDpob3N0IC5jb250YWluZXIgLmNhcm91c2VsOjpjb250ZW50ID4+PiAuaXRlbS1jYXJvdXNlbC5hY3R1YWx7XG4gICAgICAgIG9wYWNpdHk6IDAuOTU7XG4gICAgfVxuICBgXSxcbiAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCIgI2NvbnRhaW5lcj5cXG4nICtcbiAgICAnICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIiAjY2Fyb3VzZWwgc3dpcGVyIChkb21DaGFuZ2UpPVwib25Eb21DaGFuZ2UoJGV2ZW50KVwiPlxcbicgK1xuICAgICcgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiLml0ZW0tY2Fyb3VzZWxcIj48L25nLWNvbnRlbnQ+XFxuJyArXG4gICAgJyAgPC9kaXY+XFxuJyArXG4gICAgJzwvZGl2PicsXG59KVxuZXhwb3J0IGNsYXNzIENhcm91c2VsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQge1xuXG4gIHB1YmxpYyBjYXJvdXNlbDogQ2Fyb3VzZWw7XG4gIHByaXZhdGUgcmFkaXVzOiBhbnk7XG4gIHByaXZhdGUgcm90YXRpb25Gbjogc3RyaW5nO1xuICBwcml2YXRlIGl0ZW1zQ2Fyb3VzZWxSZW5kZXJlZCA9ICAwIDtcbiAgQFZpZXdDaGlsZChTd2lwZXJEaXJlY3RpdmUpIHN3aXBlcjogU3dpcGVyRGlyZWN0aXZlO1xuICBASW5wdXQoKSBtb3JlUGFpclNsaWRlcyA9IDE7XG4gIEBJbnB1dCgpIHRocmVzaG9sZCA9IDU7XG4gIEBJbnB1dCgpIGFuZ2xlID0gNDU7XG4gIEBJbnB1dCgpIHJhdGlvU2NhbGUgPSAxO1xuICBASW5wdXQoKSBtYXJnaW4gPSAyMDtcbiAgQElucHV0KCkgcGVyc3BlY3RpdmUgPSAyMDAwO1xuICBASW5wdXQoKSBlbmRJblNsaWRlID0gdHJ1ZTtcbiAgQElucHV0KCkgdGltZVRvU2xpZGUgPSAzMDA7XG4gIEBJbnB1dCgpIGxvY2tTbGlkZXMgPSBmYWxzZTtcbiAgQElucHV0KCkgaW5pdGlhbFNsaWRlID0gMDtcbiAgQElucHV0KCkgbG9vcCA9IGZhbHNlO1xuICBASW5wdXQoKSBtb2RlID0gJ2hvcml6b250YWwnO1xuXG4gIC8vIGF1dG9QbGF5XG4gIEBJbnB1dCgpIGF1dG9QbGF5ID0gZmFsc2U7XG4gIEBJbnB1dCgpIGRlbGF5QXV0b1BsYXkgPSAzMDAwO1xuICBwcml2YXRlIGF1dG9QbGF5VGltZW91dDogYW55O1xuXG4gIEBPdXRwdXQoKSBvbkluaXQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblJlYWR5ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25DaGFuZ2VQcm9wZXJ0aWVzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKSBvblNsaWRlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25TbGlkZUNlbnRlcmVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKSBvblRyYW5zaXRpb25TdGFydCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uVHJhbnNpdGlvbkVuZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uU2xpZGVOZXh0VHJhbnNpdGlvblN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25TbGlkZU5leHRUcmFuc2l0aW9uRW5kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25TbGlkZVByZXZUcmFuc2l0aW9uU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblNsaWRlUHJldlRyYW5zaXRpb25FbmQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQE91dHB1dCgpIG9uU2xpZGVNb3ZlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25TbGlkZU1vdmVFbmQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblNsaWRlTW92ZVN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKSBvblRvdWNoTW92ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uVG91Y2hTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uVG91Y2hFbmQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQE91dHB1dCgpIG9uUmVhY2hCZWdpbm5pbmcgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblJlYWNoRW5kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBWaWV3Q2hpbGQoJ2Nhcm91c2VsJykgY2Fyb3VzZWxFbG06IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2NvbnRhaW5lcicpIGNvbnRhaW5lckVsbTogRWxlbWVudFJlZjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbXBvbmVudEVsZW1lbnQ6IEVsZW1lbnRSZWYpIHtcbiAgICB0aGlzLmNhcm91c2VsID0gbmV3IENhcm91c2VsKCk7XG4gIH1cblxuICBvbkRvbUNoYW5nZSgkZXZlbnQ6IGFueSkge1xuICAgIGlmICgkZXZlbnQuYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc0Nhcm91c2VsUmVuZGVyZWQgPT09IDApIHtcbiAgICAgICAgdGhpcy5yZUluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ3NzU2hvd1NsaWRlcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5pdGVtc0Nhcm91c2VsUmVuZGVyZWQgPSB0aGlzLmNhcm91c2VsRWxtLm5hdGl2ZUVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaXRlbS1jYXJvdXNlbCcpLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLm9uSW5pdC5lbWl0KHRoaXMuY2Fyb3VzZWwpO1xuICAgIHRoaXMuaXRlbXNDYXJvdXNlbFJlbmRlcmVkID0gdGhpcy5jYXJvdXNlbEVsbS5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2l0ZW0tY2Fyb3VzZWwnKS5sZW5ndGg7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgT2JqZWN0LmtleXMoY2hhbmdlcykubWFwKHZhbCA9PiB7XG4gICAgICBpZiAoY2hhbmdlc1t2YWxdLmN1cnJlbnRWYWx1ZSAhPT0gY2hhbmdlc1t2YWxdLnByZXZpb3VzVmFsdWUgJiYgIWNoYW5nZXNbdmFsXS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgIHRoaXMub25DaGFuZ2VQcm9wZXJ0aWVzLmVtaXQoY2hhbmdlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5pbml0RXZlbnRzUGFuKCk7XG4gICAgdGhpcy5jb25maWdQbHVnaW4oKTtcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY2xhc3NOYW1lICs9ICcgcmVhZHknO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5vblJlYWR5LmVtaXQodGhpcy5jYXJvdXNlbCk7XG4gIH1cblxuICBwdWJsaWMgbG9ja0Nhcm91c2VsKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMuY2Fyb3VzZWwubG9ja1NsaWRlcyA9IHZhbDtcbiAgfVxuXG4gIHB1YmxpYyBzbGlkZU5leHQoKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tMaW1pdHNDYXJyb3VzZWwodGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleCArIDEpKSB7XG4gICAgICB0aGlzLm1vdmVTbGlkZVRvKHRoaXMuY2Fyb3VzZWwuYWN0aXZlSW5kZXggKyAxKTtcbiAgICAgIGNvbnN0IHZtID0gdGhpcztcbiAgICAgIHNldFRpbWVvdXQoICgpID0+ICB2bS5kZXRlY3RDdXJyZW50U2xpZGUoKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNsaWRlUHJldigpIHtcbiAgICBpZiAodGhpcy5jaGVja0xpbWl0c0NhcnJvdXNlbCh0aGlzLmNhcm91c2VsLmFjdGl2ZUluZGV4IC0gMSkpIHtcbiAgICAgIHRoaXMubW92ZVNsaWRlVG8odGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleCAtIDEpO1xuICAgICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgICAgc2V0VGltZW91dCggKCkgPT4gIHZtLmRldGVjdEN1cnJlbnRTbGlkZSgpKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2xpZGVUbyhpbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tMaW1pdHNDYXJyb3VzZWwoaW5kZXgpKSB7XG4gICAgICB0aGlzLm1vdmVTbGlkZVRvKGluZGV4KTtcbiAgICAgIGNvbnN0IHZtID0gdGhpcztcbiAgICAgIHNldFRpbWVvdXQoICgpID0+ICB2bS5kZXRlY3RDdXJyZW50U2xpZGUoKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGF1dG9QbGF5U3RhcnQoKSB7XG4gICAgICB0aGlzLmF1dG9QbGF5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXV0b1BsYXlTbGlkZSgpO1xuICB9XG5cbiAgcHVibGljIGF1dG9QbGF5U3RvcCgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvUGxheVRpbWVvdXQpO1xuICAgICAgdGhpcy5jYXJvdXNlbC5hdXRvUGxheUlzUnVubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHRvZ2dsZU1vZGUoKSB7XG4gICAgICB0aGlzLm1vZGUgPSB0aGlzLm1vZGUgPT09ICd2ZXJ0aWNhbCcgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgdGhpcy51cGRhdGUoKTtcblxuICB9XG5cbiAgcHVibGljIHJlSW5pdCgpIHtcbiAgICB0aGlzLmNhcm91c2VsID0gbmV3IENhcm91c2VsO1xuICAgIHRoaXMuY29uZmlnUGx1Z2luKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKCkge1xuICAgICAgdGhpcy5zZXRQZXJzcGVjdGl2ZUNvbnRhaW5lcigpO1xuICAgICAgdGhpcy5jaGVja1JvdGF0aW9uKCk7XG4gICAgICB0aGlzLmNhcm91c2VsLml0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLmNhcm91c2VsRWxtLm5hdGl2ZUVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaXRlbS1jYXJvdXNlbCcpKTtcbiAgICAgIHRoaXMuY2Fyb3VzZWwudG90YWxJdGVtcyA9IHRoaXMuY2Fyb3VzZWwuaXRlbXMubGVuZ3RoO1xuICAgICAgdGhpcy5nZXRtYXhTaXplcygpO1xuICAgICAgdGhpcy5jYXJvdXNlbC5sb2NrU2xpZGVzID0gdGhpcy5sb2NrU2xpZGVzO1xuICAgICAgdGhpcy5zZXREZWdyZWVzT25TbGlkZXMoKTtcbiAgICAgIHRoaXMuc2V0VHJhbnNmb3JtQ2Fycm91c2VsKC10aGlzLmNhcm91c2VsLmRlZ3JlZXNTbGlkZXNbdGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleF0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25maWdQbHVnaW4oKSB7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLm1hbmFnZUV2ZW50cygpO1xuICAgIHRoaXMuaW5pdFNsaWRlc09uKCk7XG4gICAgdGhpcy51cGRhdGVDc3NTaG93U2xpZGVzKCk7XG4gICAgdGhpcy5hdXRvUGxheVNsaWRlKCk7XG4gIH1cblxuICBwcml2YXRlIGluaXRFdmVudHNQYW4oKSB7XG4gICAgICB0aGlzLnN3aXBlci5vblN3aXBlLnN1YnNjcmliZSgoZGlzdGFuY2U6IG51bWJlcikgPT4ge1xuICAgICAgICB0aGlzLnJvdGF0ZShkaXN0YW5jZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3dpcGVyLm9uU3dpcGVFbmQuc3Vic2NyaWJlKChkaXN0YW5jZTogbnVtYmVyKSA9PiB7XG4gICAgICAgIHRoaXMucm90YXRlKGRpc3RhbmNlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByb3RhdGUoZTogYW55KSB7XG4gICAgaWYgKCF0aGlzLmNhcm91c2VsLmxvY2tTbGlkZXMpIHtcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSB0aGlzLmNhcm91c2VsLmlzSG9yaXpvbnRhbCA/IGUudmVsb2NpdHlYIC8gdGhpcy50aHJlc2hvbGQgOiAtZS52ZWxvY2l0eVkgLyB0aGlzLnRocmVzaG9sZDtcbiAgICAgICAgdGhpcy5zZXROZXdEZWcodGhpcy5jYXJvdXNlbC5jdXJyZGVnICsgdmVsb2NpdHkgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMubW92ZUNhcnJvdXNlbCh0aGlzLmNhcm91c2VsLmN1cnJkZWcpO1xuICAgICAgICBpZiAoZS5pc0ZpbmFsICYmIHRoaXMuZW5kSW5TbGlkZSkge1xuICAgICAgICAgIHRoaXMubW92ZVNsaWRlVG8odGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF1dG9QbGF5U2xpZGUoKSB7XG4gICAgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgdGhpcy5hdXRvUGxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWwuYXV0b1BsYXlJc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zbGlkZU5leHQoKTtcbiAgICAgICAgICAgIHRoaXMuYXV0b1BsYXlTbGlkZSgpO1xuICAgICAgICB9LmJpbmQodGhpcyksIHRoaXMuZGVsYXlBdXRvUGxheSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0U2xpZGVzT24oKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbFNsaWRlID49IDAgJiYgdGhpcy5pbml0aWFsU2xpZGUgPCB0aGlzLmNhcm91c2VsLml0ZW1zLmxlbmd0aCkge1xuICAgICAgdGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleCA9IHBhcnNlSW50KHRoaXMuaW5pdGlhbFNsaWRlLnRvU3RyaW5nKCkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pbml0aWFsU2xpZGUgPj0gdGhpcy5jYXJvdXNlbC5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2Fyb3VzZWwuYWN0aXZlSW5kZXggPSB0aGlzLmNhcm91c2VsLml0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICB0aGlzLmluaXRpYWxTbGlkZSA9IHRoaXMuY2Fyb3VzZWwuYWN0aXZlSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuaW5pdGlhbFNsaWRlID0gdGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleDtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdEZWcgPSB0aGlzLmNhcm91c2VsLmFjdGl2ZUluZGV4ICogdGhpcy5hbmdsZTtcbiAgICB0aGlzLnNldE5ld0RlZygtbmV3RGVnKTtcbiAgICB0aGlzLnNldFRyYW5zZm9ybUNhcnJvdXNlbCgtbmV3RGVnKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0TmV3RGVnKG5ld0RlZzogbnVtYmVyKSB7XG4gICAgdGhpcy5jYXJvdXNlbC5jdXJyZGVnID0gbmV3RGVnO1xuICAgIGlmICh0aGlzLmNhcm91c2VsLmN1cnJkZWcgPiAwKSB7XG4gICAgICB0aGlzLmNhcm91c2VsLmN1cnJkZWcgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYXJvdXNlbC5jdXJyZGVnIDwgLXRoaXMuY2Fyb3VzZWwubWF4RGVncmVlKSB7XG4gICAgICB0aGlzLmNhcm91c2VsLmN1cnJkZWcgPSAtdGhpcy5jYXJvdXNlbC5tYXhEZWdyZWU7XG4gICAgfVxuXG4gIH1cbiAgcHJpdmF0ZSBjaGVja1JvdGF0aW9uKCkge1xuICAgICAgdGhpcy5jYXJvdXNlbC5pc0hvcml6b250YWwgPSB0aGlzLm1vZGUgIT09ICd2ZXJ0aWNhbCc7XG4gICAgICB0aGlzLnJvdGF0aW9uRm4gPSB0aGlzLmNhcm91c2VsLmlzSG9yaXpvbnRhbCA/ICdyb3RhdGVZJ1xuICAgICAgOiAncm90YXRlWCc7XG4gIH1cbiAgcHJpdmF0ZSBjaGVja0xpbWl0c0NhcnJvdXNlbChpbmRleDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY2Fyb3VzZWwuYWN0aXZlSW5kZXggIT09IGluZGV4ICYmIGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmNhcm91c2VsLnRvdGFsSXRlbXM7XG4gIH1cblxuICBwcml2YXRlIG1vdmVTbGlkZVRvKGluZGV4OiBudW1iZXIpIHtcbiAgICB0aGlzLnNldE5ld0RlZygtdGhpcy5jYXJvdXNlbC5kZWdyZWVzU2xpZGVzW2luZGV4XSk7XG4gICAgdGhpcy5tb3ZlQ2Fycm91c2VsKHRoaXMuY2Fyb3VzZWwuY3VycmRlZywgdGhpcy50aW1lVG9TbGlkZSk7XG4gIH1cblxuICBwcml2YXRlIG1vdmVDYXJyb3VzZWwoZGVnOiBudW1iZXIsIHRpbWVUcmFuc2Zvcm06IG51bWJlciA9IDApIHtcbiAgICBjb25zdCB0cmFuc2l0aW9uID0gYHRyYW5zZm9ybSAke3RpbWVUcmFuc2Zvcm19bXNgO1xuICAgIHRoaXMuY2Fyb3VzZWxFbG0ubmF0aXZlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcbiAgICB0aGlzLmNhcm91c2VsRWxtLm5hdGl2ZUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgdGhpcy5zZXRUcmFuc2Zvcm1DYXJyb3VzZWwoZGVnKTtcbiAgICB0aGlzLmRldGVjdEN1cnJlbnRTbGlkZSgpO1xuXG4gIH1cblxuICBwcml2YXRlIHNldFRyYW5zZm9ybUNhcnJvdXNlbChkZWc6IG51bWJlcikge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVaKCR7LXRoaXMucmFkaXVzfXB4KSAke3RoaXMucm90YXRpb25Gbn0oJHtkZWd9ZGVnKWA7XG4gICAgdGhpcy5jYXJvdXNlbEVsbS5uYXRpdmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB0aGlzLmNhcm91c2VsRWxtLm5hdGl2ZUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIHRoaXMuc2VuZFNsaWRlSXNDZW50ZXJlZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kU2xpZGVJc0NlbnRlcmVkKCkge1xuICAgICAgaWYgKHRoaXMuY2Fyb3VzZWwuY3VycmRlZyA9PT0gLXRoaXMuY2Fyb3VzZWwuZGVncmVlc1NsaWRlc1t0aGlzLmNhcm91c2VsLmFjdGl2ZUluZGV4XSkge1xuICAgICAgICAgIHRoaXMub25TbGlkZUNlbnRlcmVkLmVtaXQodGhpcy5jYXJvdXNlbCk7XG4gICAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldFBlcnNwZWN0aXZlQ29udGFpbmVyKCkge1xuICAgIHRoaXMuY29udGFpbmVyRWxtLm5hdGl2ZUVsZW1lbnQuc3R5bGUucGVyc3BlY3RpdmUgPSB0aGlzLnBlcnNwZWN0aXZlO1xuICAgIHRoaXMuY29udGFpbmVyRWxtLm5hdGl2ZUVsZW1lbnQuc3R5bGUud2Via2l0UGVyc3BlY3RpdmUgPSB0aGlzLnBlcnNwZWN0aXZlO1xuICAgIHRoaXMuY29udGFpbmVyRWxtLm5hdGl2ZUVsZW1lbnQuc3R5bGUuTW96UGVyc3BlY3RpdmUgPSB0aGlzLnBlcnNwZWN0aXZlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRtYXhTaXplcygpIHtcbiAgICB0aGlzLmNhcm91c2VsLml0ZW1zLm1hcCgodmFsOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gdmFsLm9mZnNldFdpZHRoO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gdmFsLm9mZnNldEhlaWdodDtcbiAgICAgIHRoaXMuY2Fyb3VzZWwubWF4V2lkdGhTaXplID0gMDtcbiAgICAgIHRoaXMuY2Fyb3VzZWwubWF4SGVpZ2h0U2l6ZSA9IDA7XG4gICAgICBpZiAoIHdpZHRoID4gdGhpcy5jYXJvdXNlbC5tYXhXaWR0aFNpemUpIHtcbiAgICAgICAgdGhpcy5jYXJvdXNlbC5tYXhXaWR0aFNpemUgPSB3aWR0aDtcbiAgICAgICAgICB0aGlzLmNhcm91c2VsLnRvdGFsV2lkdGggPSB0aGlzLmNhcm91c2VsLml0ZW1zLmxlbmd0aCAqIHRoaXMuY2Fyb3VzZWwubWF4V2lkdGhTaXplO1xuICAgICAgfVxuICAgICAgaWYgKCBoZWlnaHQgPiB0aGlzLmNhcm91c2VsLm1heEhlaWdodFNpemUpIHtcbiAgICAgICAgdGhpcy5jYXJvdXNlbC5tYXhIZWlnaHRTaXplID0gaGVpZ2h0O1xuICAgICAgICAgIHRoaXMuY2Fyb3VzZWwudG90YWxXaWR0aCA9IHRoaXMuY2Fyb3VzZWwuaXRlbXMubGVuZ3RoICogdGhpcy5jYXJvdXNlbC5tYXhIZWlnaHRTaXplO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2V0Q29udGFpbmVyV2l0aE1heFNpemUoKTtcbiAgfVxuICBwcml2YXRlIHNldENvbnRhaW5lcldpdGhNYXhTaXplKCkge1xuICAgIHRoaXMuY29udGFpbmVyRWxtLm5hdGl2ZUVsZW1lbnQuc3R5bGUud2lkdGggPSB0aGlzLmNhcm91c2VsLm1heFdpZHRoU2l6ZSArICdweCc7XG4gICAgdGhpcy5jb250YWluZXJFbG0ubmF0aXZlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhcm91c2VsLm1heEhlaWdodFNpemUgKyAncHgnO1xuICB9XG4gIHByaXZhdGUgc2V0RGVncmVlc09uU2xpZGVzKCkge1xuICAgIGxldCBhdXhEZWdyZWUgPSAwO1xuICAgIGNvbnN0IHBhbmVsU2l6ZSA9IHRoaXMuY2Fyb3VzZWwuaXNIb3Jpem9udGFsID8gdGhpcy5jYXJvdXNlbC5tYXhXaWR0aFNpemUgOiB0aGlzLmNhcm91c2VsLm1heEhlaWdodFNpemU7XG4gICAgdGhpcy5yYWRpdXMgPSAoTWF0aC5yb3VuZCggKCBwYW5lbFNpemUgLyAyICkgL1xuICAgICAgTWF0aC50YW4oIE1hdGguUEkgLyAoMzYwIC8gdGhpcy5hbmdsZSkgKSApICsgdGhpcy5tYXJnaW4pO1xuICAgIHRoaXMuY2Fyb3VzZWwuZGVncmVlc1NsaWRlcyA9IFtdO1xuICAgIHRoaXMuY2Fyb3VzZWwuaXRlbXMubWFwKCh2YWw6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYCR7dGhpcy5yb3RhdGlvbkZufSgke2F1eERlZ3JlZX1kZWcpIHRyYW5zbGF0ZVooJHt0aGlzLnJhZGl1c31weClgO1xuICAgICAgdmFsLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgIHZhbC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICB0aGlzLmNhcm91c2VsLmRlZ3JlZXNTbGlkZXMucHVzaChhdXhEZWdyZWUpO1xuICAgICAgdGhpcy5jYXJvdXNlbC5tYXhEZWdyZWUgPSBhdXhEZWdyZWU7XG4gICAgICBhdXhEZWdyZWUgKz0gdGhpcy5hbmdsZTtcbiAgICB9KTtcblxuICB9XG5cbiAgcHJpdmF0ZSBkZXRlY3RDdXJyZW50U2xpZGUoKSB7XG4gICAgbGV0IGF1eCA9IDk5ZTk7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICB0aGlzLmNhcm91c2VsLmRlZ3JlZXNTbGlkZXMuZm9yRWFjaCgodmFsOiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgY29uc3QgcmVzID0gTWF0aC5hYnModmFsIC0gTWF0aC5hYnModGhpcy5jYXJvdXNlbC5jdXJyZGVnKSk7XG4gICAgICBpZiAocmVzIDwgYXV4KSB7XG4gICAgICAgIGF1eCA9IHJlcztcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0aGlzLmNhcm91c2VsLmFjdGl2ZUluZGV4ICE9PSBpbmRleCkge1xuICAgICAgdGhpcy5jYXJvdXNlbC5sYXN0SW5kZXggPSAgdGhpcy5jYXJvdXNlbC5hY3RpdmVJbmRleDtcbiAgICAgIHRoaXMuY2Fyb3VzZWwuYWN0aXZlSW5kZXggPSBpbmRleDtcbiAgICAgIHRoaXMudXBkYXRlQ3NzU2hvd1NsaWRlcygpO1xuXG4gICAgICB0aGlzLm9uU2xpZGVDaGFuZ2UuZW1pdCh0aGlzLmNhcm91c2VsKTtcbiAgICAgIGlmICh0aGlzLmNhcm91c2VsLmFjdGl2ZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5vblJlYWNoQmVnaW5uaW5nLmVtaXQodGhpcy5jYXJvdXNlbCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2Fyb3VzZWwuYWN0aXZlSW5kZXggPT09IHRoaXMuY2Fyb3VzZWwudG90YWxJdGVtcyAtIDEpIHtcbiAgICAgICAgICB0aGlzLm9uUmVhY2hFbmQuZW1pdCh0aGlzLmNhcm91c2VsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNzc1Nob3dTbGlkZXMoKSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHZtLmNhcm91c2VsLmFjdGl2ZUluZGV4O1xuICAgIGNvbnN0IGFjdHVhbCA9IHRoaXMuY2Fyb3VzZWwuaXRlbXNbY3VycmVudEluZGV4XTtcbiAgICB2bS5yZW1vdmVDbGFzc1Nob3dTbGlkZXMoJ2FjdHVhbCcpO1xuICAgIHZtLnJlbW92ZUNsYXNzU2hvd1NsaWRlcygncHJldicpO1xuICAgIHZtLnJlbW92ZUNsYXNzU2hvd1NsaWRlcygnbmV4dCcpO1xuICAgIGlmIChhY3R1YWwpIHtcbiAgICAgIGFjdHVhbC5jbGFzc05hbWUgKz0gJyBhY3R1YWwnO1xuICAgIH1cbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubW9yZVBhaXJTbGlkZXM7IHgrKykge1xuICAgICAgY29uc3QgcHJldiA9IHZtLmNhcm91c2VsLml0ZW1zW2N1cnJlbnRJbmRleCAtICh4ICsgMSldO1xuICAgICAgY29uc3QgbmV4dCA9IHZtLmNhcm91c2VsLml0ZW1zW2N1cnJlbnRJbmRleCArICh4ICsgMSldO1xuICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgcHJldi5jbGFzc05hbWUgKz0gJyBwcmV2JztcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgIG5leHQuY2xhc3NOYW1lICs9ICcgbmV4dCc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaXZhdGUgcmVtb3ZlQ2xhc3NTaG93U2xpZGVzKHRhZ0NsYXNzOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5jYXJvdXNlbEVsbS5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGFnQ2xhc3MpLmxlbmd0aCA+IDApIHtcbiAgICAgIEFycmF5LmZyb20odGhpcy5jYXJvdXNlbEVsbS5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGFnQ2xhc3MpKS5tYXAoKHZhbDogYW55KSA9PiB7XG4gICAgICAgIHZhbFsnY2xhc3NMaXN0J10ucmVtb3ZlKHRhZ0NsYXNzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIG1hbmFnZUV2ZW50cygpIHtcbiAgICBjb25zdCBvcHRpb25zOiBhbnkgPSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdDogdHJ1ZVxuICAgIH07XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuXG4gICAgdGhpcy5zd2lwZXIub25Td2lwZS5zdWJzY3JpYmUoKGU6IG51bWJlcikgPT4ge1xuICAgICAgdm0ub25TbGlkZU1vdmUuZW1pdCh7IGNhcm91c2VsOiB2bS5jYXJvdXNlbCwgZXZlbnQ6IGV9KTtcbiAgICAgIHZtLm9uVG91Y2hNb3ZlLmVtaXQoe2Nhcm91c2VsOiB2bS5jYXJvdXNlbCwgZXZlbnQ6IGV9KTtcbiAgICB9KTtcbiAgICB0aGlzLnN3aXBlci5vblN3aXBlU3RhcnQuc3Vic2NyaWJlKChlOiBudW1iZXIpID0+IHtcbiAgICAgIHZtLm9uU2xpZGVNb3ZlU3RhcnQuZW1pdCh7IGNhcm91c2VsOiB2bS5jYXJvdXNlbCwgZXZlbnQ6IGV9KTtcbiAgICAgIHZtLm9uVG91Y2hTdGFydC5lbWl0KHtjYXJvdXNlbDogdm0uY2Fyb3VzZWwsIGV2ZW50OiBlfSk7XG4gICAgfSk7XG4gICAgdGhpcy5zd2lwZXIub25Td2lwZUVuZC5zdWJzY3JpYmUoKGU6IG51bWJlcikgPT4ge1xuICAgICAgdm0ub25TbGlkZU1vdmVFbmQuZW1pdCh7IGNhcm91c2VsOiB2bS5jYXJvdXNlbCwgZXZlbnQ6IGV9KTtcbiAgICAgIHZtLm9uVG91Y2hFbmQuZW1pdCh7IGNhcm91c2VsOiB2bS5jYXJvdXNlbCwgZXZlbnQ6IGV9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2Fyb3VzZWxFbG0ubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKGU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgZWxtID0ge2Nhcm91c2VsOiB2bS5jYXJvdXNlbCwgZXZlbnQ6IGV9O1xuICAgICAgaWYgKGUucHJvcGVydHlOYW1lID09PSAndHJhbnNmb3JtJykge1xuICAgICAgICB0aGlzLm9uVHJhbnNpdGlvbkVuZC5lbWl0KGVsbSk7XG4gICAgICAgIGlmICh2bS5jYXJvdXNlbC5sYXN0SW5kZXggPiB2bS5jYXJvdXNlbC5hY3RpdmVJbmRleCkge1xuICAgICAgICAgIHRoaXMub25TbGlkZU5leHRUcmFuc2l0aW9uRW5kLmVtaXQoZWxtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9uU2xpZGVQcmV2VHJhbnNpdGlvbkVuZC5lbWl0KGVsbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY2Fyb3VzZWxFbG0ubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uc3RhcnQnLCAoZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBlbG0gPSB7Y2Fyb3VzZWw6IHZtLmNhcm91c2VsLCBldmVudDogZX07XG4gICAgICBpZiAoZS5wcm9wZXJ0eU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgdGhpcy5vblRyYW5zaXRpb25TdGFydC5lbWl0KGVsbSk7XG4gICAgICAgICAgLy8gaWYgKGUuZGlyZWN0aW9uID09PSBIYW1tZXIuRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgICAgICAvLyAgIHZtLm9uU2xpZGVOZXh0VHJhbnNpdGlvblN0YXJ0LmVtaXQoZWxtKTtcbiAgICAgICAgICAvLyB9IGVsc2UgaWYgKGUuZGlyZWN0aW9uID09PSBIYW1tZXIuRElSRUNUSU9OX1JJR0hUKSB7XG4gICAgICAgICAgLy8gICB2bS5vblNsaWRlUHJldlRyYW5zaXRpb25TdGFydC5lbWl0KGVsbSk7XG4gICAgICAgICAgLy8gfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gIH1cbn1cbiJdfQ==